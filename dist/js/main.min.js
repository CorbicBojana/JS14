const buttonTheme=document.getElementById("button_theme"),buttonFilter=document.getElementById("button_filter"),listFilter=document.getElementById("list_filter"),listFilterItems=document.getElementsByClassName("list_filter_item"),imgLight=document.getElementById("img_light"),imgDark=document.getElementById("img_dark"),imgLigh=document.getElementById("img__light");let showLIstFilter=!1;function toggleTheme(){document.body.classList.contains("theme_light")?(document.body.classList.add("theme_dark"),document.body.classList.remove("theme_light"),imgLight.style.display="none",imgDark.style.display="inline-block",imgLigh.style.display="none"):(document.body.classList.add("theme_light"),document.body.classList.remove("theme_dark"),imgLight.style.display="inline-block",imgDark.style.display="none",imgLigh.style.display="inline-block")}buttonTheme.addEventListener("click",toggleTheme),buttonFilter.addEventListener("click",function(){0==showLIstFilter?(listFilter.style.display="block",showLIstFilter=!0):(listFilter.style.display="none",showLIstFilter=!1)});const row=document.getElementById("row"),main=document.getElementById("main"),url="https://restcountries.eu/rest/v2/";let resultHTML="";function getResults(){fetch(`${url}all`).then(n=>n.json()).then(function(n){document.getElementsByClassName("col");n.map(n=>resultHTML+=`\n        <div  data-country=${encodeURIComponent(JSON.stringify(n))} id="col" class="col">\n          <div class="container_img">\n            <img src=${n.flag} alt="germany" />\n          </div>\n          <h3>${n.name}</h3>\n          <ul class="list">\n            <li class="list_item">Population: <span>${n.population}</span></li>\n            <li class="list_item">Region: <span>${n.region}</span></li>\n            <li class="list_item">Capital: <span>${n.capital}</span></li>\n          </ul>\n        </div>\n        `),row.innerHTML=resultHTML,row.addEventListener("click",function(n){const t=n.target.closest(".col"),l=JSON.parse(decodeURIComponent(t.dataset.country));console.log(l),main.innerHTML=`\n        <a href="" class="button_link">&#8592;<span>Back</span></a>\n        <div class="row">\n        <div class="col_country">\n          <div class="container_img">\n            <img src=${l.flag} alt="germany" />\n          </div>\n        </div>\n        <div class="col_country">\n        <h2 class="margin_left">${l.name}</h2>\n        <div class="col_country_list margin_left">\n          <ul class="list">\n            <li class="list_item">Native Name: <span>${l.nativeName}</span></li>\n            <li class="list_item">Population: <span>${l.population}</span></li>\n            <li class="list_item">Region: <span>${l.region}</span></li>\n            <li class="list_item">Sub Region: <span>${l.subregion}</span></li>\n            <li class="list_item">Capital: <span>${l.capital}</span></li>\n          </ul>\n          <ul class="list">\n            <li class="list_item">Top Level Domain: <span>${l.topLevelDomain}</span></li>\n            <li class="list_item">Currencies: <span>${l.currencies.map(n=>n.name)}</span></li>\n            <li class="list_item">Languages: <span>${l.languages.map(n=>n.name)}</span></li>\n          </ul>\n        </div>\n        <ul class="list margin_left">\n          <li class="list_item">Border Countries: ${l.borders.reduce((n,t)=>n+`<span class="button_link">${t}</span>`,"")}</li>\n        </ul>\n        </div>\n        </div>\n        `,row.innerHTML=resultHTML})})}for(getResults(),i=0;i<listFilterItems.length;i++)listFilterItems[i].addEventListener("click",function(n){var t=n.target.textContent;fetch(`${url}region/${t}`).then(n=>n.json()).then(function(n){console.log(n),resultHTML="",404==n.status?alert("Not found!"):(n.map(n=>resultHTML+=`\n                    <div id="col" class="col">\n                      <div class="container_img">\n                        <img src=${n.flag} alt="germany" />\n                      </div>\n                      <h3>${n.name}</h3>\n                      <ul class="list">\n                        <li class="list_item">Population: <span>${n.population}</span></li>\n                        <li class="list_item">Region: <span>${n.region}</span></li>\n                        <li class="list_item">Capital: <span>${n.capital}</span></li>\n                      </ul>\n                    </div>\n                    `),row.innerHTML=resultHTML)})});const form=document.getElementById("form"),formInput=document.getElementById("form_input");formInput.addEventListener("input",function(n){formInput.value||(resultHTML="",getResults())}),form.addEventListener("submit",function(n){n.preventDefault();let t=formInput.value;fetch(`${url}name/${t}`).then(n=>n.json()).then(function(n){console.log(n),404==n.status?alert("Not found!"):(n.map(n=>resultHTML=`\n            <div id="col" class="col">\n              <div class="container_img">\n                <img src=${n.flag} alt="germany" />\n              </div>\n              <h3>${n.name}</h3>\n              <ul class="list">\n                <li class="list_item">Population: <span>${n.population}</span></li>\n                <li class="list_item">Region: <span>${n.region}</span></li>\n                <li class="list_item">Capital: <span>${n.capital}</span></li>\n              </ul>\n            </div>\n            `),row.innerHTML=resultHTML)}).catch(n=>{console.log(n)})});